<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –î–∏–∑–∞–π–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è) */
        body {
            font-family: sans-serif;
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box; 
            font-size: 16px;
        }
        /* –ö—Ä–∞—Å–∏–≤–∞—è –∫–Ω–æ–ø–∫–∞ */
        button {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background-color: var(--tg-theme-button-color, #3390ec);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h3>üìÖ –í–Ω–µ—Å–∏—Ç–µ —á–∞—Å—ã</h3>
    
    <label style="align-self: flex-start;">–î–∞—Ç–∞ —Ä–∞–±–æ—Ç—ã:</label>
    <input type="date" id="dateInput">
    
    <label style="align-self: flex-start;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤:</label>
    <input type="number" id="hoursInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 8">

    <button onclick="sendData()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–≤–∏–º —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É
        document.getElementById('dateInput').valueAsDate = new Date();

        function sendData() {
            let date = document.getElementById("dateInput").value;
            let hours = document.getElementById("hoursInput").value;

            if (!hours) {
                tg.showPopup({message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤!'});
                return;
            }

            // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–æ—Ç—É
            let data = JSON.stringify({ 
                date: date, 
                hours: hours 
            });

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ
            tg.sendData(data); 
        }
    </script>
</body>
</html>
